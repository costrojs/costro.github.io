"use strict";(self.webpackChunkcostro_docs=self.webpackChunkcostro_docs||[]).push([[91],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>b});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),c=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(i.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),d=r,b=p["".concat(i,".").concat(d)]||p[d]||m[d]||l;return n?a.createElement(b,o(o({ref:t},u),{},{components:n})):a.createElement(b,o({ref:t},u))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[p]="string"==typeof e?e:r,o[1]=s;for(var c=2;c<l;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7294),r=n(6010);const l={tabItem:"tabItem_Ymn6"};function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(l.tabItem,o),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>N});var a=n(7462),r=n(7294),l=n(6010),o=n(2466),s=n(6550),i=n(1980),c=n(7392),u=n(12);function p(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function m(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??p(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function d(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function b(e){let{queryString:t=!1,groupId:n}=e;const a=(0,s.k6)(),l=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,i._X)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(a.location.search);t.set(l,e),a.replace({...a.location,search:t.toString()})}),[l,a])]}function h(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,l=m(e),[o,s]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:l}))),[i,c]=b({queryString:n,groupId:a}),[p,h]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,l]=(0,u.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&l.set(e)}),[n,l])]}({groupId:a}),f=(()=>{const e=i??p;return d({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{f&&s(f)}),[f]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!d({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);s(e),c(e),h(e)}),[c,h,l]),tabValues:l}}var f=n(2389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:t,block:n,selectedValue:s,selectValue:i,tabValues:c}=e;const u=[],{blockElementScrollPositionUntilNextRender:p}=(0,o.o5)(),m=e=>{const t=e.currentTarget,n=u.indexOf(t),a=c[n].value;a!==s&&(p(t),i(a))},d=e=>{let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const n=u.indexOf(e.currentTarget)+1;t=u[n]??u[0];break}case"ArrowLeft":{const n=u.indexOf(e.currentTarget)-1;t=u[n]??u[u.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":n},t)},c.map((e=>{let{value:t,label:n,attributes:o}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>u.push(e),onKeyDown:d,onClick:m},o,{className:(0,l.Z)("tabs__item",g.tabItem,o?.className,{"tabs__item--active":s===t})}),n??t)})))}function v(e){let{lazy:t,children:n,selectedValue:a}=e;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function y(e){const t=h(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",g.tabList)},r.createElement(k,(0,a.Z)({},e,t)),r.createElement(v,(0,a.Z)({},e,t)))}function N(e){const t=(0,f.Z)();return r.createElement(y,(0,a.Z)({key:String(t)},e))}},1007:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7294);const r="browserWindow_my1Q",l="browserWindowHeader_jXSR",o="buttons_uHc7",s="browserWindowAddressBar_Pd8y",i="dot_giz1",c="browserWindowMenuIcon_Vhuh",u="bar_rrRL",p="browserWindowBody_Idgs";const m=function(e){let{children:t,minHeight:n,url:m}=e;return a.createElement("div",{className:r,style:{minHeight:n}},a.createElement("div",{className:l},a.createElement("div",{className:o},a.createElement("span",{className:i,style:{background:"#f25f58"}}),a.createElement("span",{className:i,style:{background:"#fbbe3c"}}),a.createElement("span",{className:i,style:{background:"#58cb42"}})),a.createElement("div",{className:s},m),a.createElement("div",{className:c},a.createElement("div",null,a.createElement("span",{className:u}),a.createElement("span",{className:u}),a.createElement("span",{className:u})))),a.createElement("div",{className:p},t))}},7197:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>u,toc:()=>m});var a=n(7462),r=(n(7294),n(3905)),l=n(4866),o=n(5162),s=n(1007);const i={id:"template-syntax",title:"Template syntax"},c=void 0,u={unversionedId:"template-syntax",id:"template-syntax",title:"Template syntax",description:"Costro's component templates can be written in native Template String or with JSX. When building large scale applications with Costro, JSX is recommended because it provides more readable templates and offers more flexibility than native Template Strings.",source:"@site/docs/template-syntax.md",sourceDirName:".",slug:"/template-syntax",permalink:"/docs/template-syntax",draft:!1,editUrl:"https://github.com/costrojs/costrojs.github.io/edit/main/docs/template-syntax.md",tags:[],version:"current",frontMatter:{id:"template-syntax",title:"Template syntax"},sidebar:"docs",previous:{title:"Installation",permalink:"/docs/installation"},next:{title:"Component",permalink:"/docs/component"}},p={},m=[{value:"Template String",id:"template-string",level:2},{value:"JSX \u26a1",id:"jsx-",level:2},{value:"Fragments",id:"fragments",level:3},{value:"Attributes",id:"attributes",level:3},{value:"Class",id:"class",level:4},{value:"Style",id:"style",level:4},{value:"Dataset",id:"dataset",level:4},{value:"Inner HTML",id:"inner-html",level:4},{value:"Boolean attributes",id:"boolean-attributes",level:4},{value:"SVG",id:"svg",level:3},{value:"Configuration files",id:"configuration-files",level:3},{value:"Babel",id:"babel",level:4},{value:"ESLint",id:"eslint",level:4}],d={toc:m},b="wrapper";function h(e){let{components:t,...n}=e;return(0,r.kt)(b,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Costro's component templates can be written in native Template String or with JSX. When building large scale applications with Costro, JSX is recommended because it provides more readable templates and offers more flexibility than native Template Strings."),(0,r.kt)("h2",{id:"template-string"},"Template String"),(0,r.kt)("p",null,"The Template String is the easiest way to define the template of a component. The component can be a ",(0,r.kt)("a",{parentName:"p",href:"component#function-and-class-components"},"Function or a Class Component"),"."),(0,r.kt)(l.Z,{groupId:"function-class-component",defaultValue:"function-component",values:[{label:"Function Component",value:"function-component"},{label:"Class Component",value:"class-component"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"function-component",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="src/components/home.js"',title:'"src/components/home.js"'},"function Home() {\n  return `<h2>Home</h2>`;\n}\n"))),(0,r.kt)(o.Z,{value:"class-component",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="src/components/home.js"',title:'"src/components/home.js"'},"class Home extends Component {\n  render() {\n    return `<h2>Home</h2>`;\n  }\n}\n")))),(0,r.kt)("p",null,"Try it on ",(0,r.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/costro-template-string-kyjl1"},"CodeSandbox"),"."),(0,r.kt)("h2",{id:"jsx-"},"JSX \u26a1"),(0,r.kt)("p",null,"Out of the box, Costro provides the ",(0,r.kt)("inlineCode",{parentName:"p"},"createElement()")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Fragment()")," functions to transforms JSX syntax into valid DOM elements."),(0,r.kt)("p",null,"To further optimize the size of the generated file and pay homage to the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/hyperhype/hyperscript"},"hyperscript"),", short names are available:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"createElement")," => ",(0,r.kt)("inlineCode",{parentName:"li"},"h")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Fragment")," => ",(0,r.kt)("inlineCode",{parentName:"li"},"F"))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Costro is also compatible with the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/proteriax/jsx-dom"},"jsx-dom")," package with the ",(0,r.kt)("a",{parentName:"p",href:"template-syntax#syntax"},"syntaxes")," declared below.")),(0,r.kt)("p",null,"Try it on ",(0,r.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/costro-jsx-template-k5zfs"},"CodeSandbox"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Import")),(0,r.kt)("p",null,"Import the ",(0,r.kt)("inlineCode",{parentName:"p"},"costro/jsx")," file when using JSX in templates ",(0,r.kt)("em",{parentName:"p"},"(only 1Kb)"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { h, F } from 'costro/jsx';\n")),(0,r.kt)(l.Z,{groupId:"function-class-component",defaultValue:"function-component",values:[{label:"Function Component",value:"function-component"},{label:"Class Component",value:"class-component"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"function-component",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/home.js"',title:'"src/components/home.js"'},"function Home() {\n  return <h2>Home</h2>;\n}\n"))),(0,r.kt)(o.Z,{value:"class-component",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/home.js"',title:'"src/components/home.js"'},"class Home extends Component {\n  render() {\n    return <h2>Home</h2>;\n  }\n}\n")))),(0,r.kt)("h3",{id:"fragments"},"Fragments"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/home.js"',title:'"src/components/home.js"'},"class Home extends Component {\n  render() {\n    return (\n      <>\n        <h2>Home</h2>\n        <p>Fragment</p>\n      </>\n    );\n  }\n}\n")),(0,r.kt)("h3",{id:"attributes"},"Attributes"),(0,r.kt)("h4",{id:"class"},"Class"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String")),(0,r.kt)("p",null,"You can use ",(0,r.kt)("inlineCode",{parentName:"p"},"class")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"className"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'<div class="item"></div>\n<div className="item"></div>\n')),(0,r.kt)("h4",{id:"style"},"Style"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String|Object")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"<div style=\"display: flex; justify-content: center;\"></div>\n<div style={{ display: 'flex', justifyContent: 'center' }}></div>\n")),(0,r.kt)("h4",{id:"dataset"},"Dataset"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Object")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"<div dataset={{ firstName: 'John', lastName: 'Doe' }}></div>\n")),(0,r.kt)("h4",{id:"inner-html"},"Inner HTML"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"String")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const html = '<span>Hello</span>'\n<div innerHTML={html}></div>\n")),(0,r.kt)("h4",{id:"boolean-attributes"},"Boolean attributes"),(0,r.kt)("p",null,"Boolean attributes can be declared without a value or with the value ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"<button disabled></button>\n<button disabled={true}></button>\n")),(0,r.kt)("h3",{id:"svg"},"SVG"),(0,r.kt)("p",null,"Costro applies the SVG attributes as they are written. This means that you can copy and paste unmodified SVG directly into your code and have them work right away."),(0,r.kt)(s.Z,{url:"http://localhost:3000",mdxType:"BrowserWindow"},(0,r.kt)("svg",{width:"50",height:"50",fill:"#ff236d",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},(0,r.kt)("g",null,(0,r.kt)("path",{d:"M35.68 352.066C9.827 377.92-2.95 442.594.577 511.41c69.101 3.559 133.59-9.351 159.34-35.105 40.285-40.28 42.87-93.987 6.308-130.55-36.558-36.558-90.265-33.97-130.547 6.311Zm94.956 81.055c-10.73 10.733-37.605 16.111-66.402 14.627-1.465-28.674 3.86-55.623 14.633-66.396 16.781-16.786 39.164-17.864 54.398-2.63 15.23 15.237 14.157 37.616-2.629 54.4ZM51.941 154.484l-49.41 98.813A28.125 28.125 0 0 0 0 264a24.006 24.006 0 0 0 24 24h93.46c23.442-47.412 61.012-123.373 77.891-157.328.52-.914 1-1.768 1.524-2.672H94.82c-16.344.016-35.531 11.875-42.879 26.484Zm329.395 162.088C347.375 333.58 271.273 371.252 224 394.646v93.563A24.124 24.124 0 0 0 247.96 512a28.03 28.03 0 0 0 10.626-2.531l98.726-49.39c14.625-7.313 26.5-26.5 26.5-42.86V315.703c.067-.04.125-.088.188-.129v-.527c-.906.52-1.746 1.002-2.664 1.525Z"}),(0,r.kt)("path",{d:"M505.16 19.516a16.74 16.74 0 0 0-12.535-12.57C460.226 0 434.375 0 409.485 0c-89.15 0-156.677 40.615-212.509 127.818-.558.979-1.07 1.877-1.625 2.854-16.879 33.955-54.449 109.916-77.89 157.328H128a96 96 0 0 1 96 96v10.646c47.273-23.394 123.375-61.066 157.336-78.074l2.789-1.597c87.234-56.06 127.86-123.512 127.86-212.278.077-25.09.144-50.61-6.825-83.181ZM368 192a48 48 0 1 1 48-48.002A48.022 48.022 0 0 1 368 192ZM78.867 381.352c-10.773 10.773-16.098 37.722-14.633 66.396 28.797 1.484 55.672-3.894 66.402-14.627 16.786-16.783 17.86-39.162 2.63-54.398-15.235-15.235-37.618-14.157-54.399 2.629Z"})))),(0,r.kt)("br",null),(0,r.kt)("p",null,"Try it on ",(0,r.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/costro-svg-2ek63"},"CodeSandbox"),"."),(0,r.kt)("h3",{id:"configuration-files"},"Configuration files"),(0,r.kt)("h4",{id:"babel"},"Babel"),(0,r.kt)("p",null,"To transpile JSX, you need the Babel plugin ",(0,r.kt)("inlineCode",{parentName:"p"},"@babel/plugin-transform-react-jsx")," that converts JSX to valid JavaScript code."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @babel/plugin-transform-react-jsx --save-dev\n")),(0,r.kt)("p",null,"Then, update the Babel configuration to register the plugin and the pragmas."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="babel.config.json" {6,7}',title:'"babel.config.json"',"{6,7}":!0},'{\n  "plugins": [\n    [\n      "@babel/plugin-transform-react-jsx",\n      {\n        "pragma": "h",\n        "pragmaFrag": "F"\n      }\n    ]\n  ]\n}\n')),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Pragmas with CDN links"),(0,r.kt)("p",null,"Pragmas are exposed in the global variable ",(0,r.kt)("inlineCode",{parentName:"p"},"window.Costro.jsx"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="babel.config.json"',title:'"babel.config.json"'},'{\n  "pragma": "Costro.jsx.h",\n  "pragmaFrag": "Costro.jsx.F"\n}\n')),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://babeljs.io/docs/en/babel-plugin-transform-react-jsx"},"Documentation of the ",(0,r.kt)("inlineCode",{parentName:"a"},"@babel/plugin-transform-react-jsx")))),(0,r.kt)("h4",{id:"eslint"},"ESLint"),(0,r.kt)("p",null,"ESLint provide support for JSX syntax with the ",(0,r.kt)("inlineCode",{parentName:"p"},"eslint-plugin-react")," package."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install eslint@7 eslint-plugin-react --save-dev\n")),(0,r.kt)("p",null,"When using ESLint and JSX outside of React/Preact, you needs to update the following rules."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title=".eslintrc.json" {5,6,7,12,13,14}',title:'".eslintrc.json"',"{5,6,7,12,13,14}":!0},'{\n  "extends": ["plugin:react/recommended"],\n\n  "rules": {\n    "react/display-name": 0,\n    "react/jsx-key": 0,\n    "react/prop-types": 0\n  },\n\n  "settings": {\n    "react": {\n      "pragma": "h",\n      "fragment": "F",\n      "version": "0"\n    }\n  }\n}\n')))}h.isMDXComponent=!0}}]);